<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" th:href="@{/css/detailProduct.css}">
  <link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon" />
  <title th:text="${product.getProductName() + ' | LEGO Shop'}"></title>
</head>
<body >

    <div class="overlay" id="myOverlay"></div>

    <header>
      <div class="contact">
        <i class="fa-solid fa-arrow-left-long"></i>
        <button>
          <a th:href="@{https://www.facebook.com/l3bao84}">CONTACT ME</a>
        </button>
      </div>
      <div th:if="${#authorization.expression('isAuthenticated()')}" class="account">
        <button class="openAccount">
          <svg width="20" height="22" viewBox="0 0 20 22" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="Icon__StyledSVG-lm07h6-0 cnHyRF UtilityBarstyles__AccountIcon-sc-1uwh8t8-5 KHcEY" data-di-res-id="897589a8-22c9110" data-di-rand="1694094881368"><g transform="translate(1 1)" fill-rule="nonzero" fill="none"><rect stroke="#2C2C2C" stroke-width="1.5" fill="#FFCF00" x="4.875" width="8.25" height="6.038" rx=".729"></rect><rect stroke="#2C2C2C" stroke-width="1.2" fill="#FFCF00" x="3.75" y="14.34" width="10.5" height="5.66" rx=".729"></rect><path d="M14.25 17.736H3.75C0 17.736 0 14.717 0 14.717v-8.68S0 3.02 3.75 3.02h10.5C18 3.019 18 6.038 18 6.038v8.679s0 3.019-3.75 3.019z" stroke="#2C2C2C" stroke-width="1.5" fill="#FFCF00"></path><path d="M7.125 8.868a.94.94 0 00-.938-.943.94.94 0 00-.937.943c0 .52.42.943.938.943a.94.94 0 00.937-.943zm4.688-.943a.94.94 0 00-.938.943c0 .52.42.943.938.943a.94.94 0 00.937-.943.94.94 0 00-.938-.943zm.293 3.86a.452.452 0 00-.649.21c-.005.008-.461.84-2.463.84-1.953 0-2.437-.793-2.462-.84a.446.446 0 00-.638-.234.618.618 0 00-.215.761c.063.147.69 1.446 3.315 1.446s3.25-1.299 3.313-1.446a.609.609 0 00-.201-.738z" fill="#2C2C2C"></path></g></svg>
          <span>Account</span>
        </button>
      </div>
      <div th:unless="${#authorization.expression('isAuthenticated()')}" class="account">
        <button class="sign-in">
          <svg width="20" height="22" viewBox="0 0 20 22" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="Icon__StyledSVG-lm07h6-0 cnHyRF UtilityBarstyles__AccountIcon-sc-1uwh8t8-5 KHcEY" data-di-res-id="897589a8-22c9110" data-di-rand="1694094881368"><g transform="translate(1 1)" fill-rule="nonzero" fill="none"><rect stroke="#2C2C2C" stroke-width="1.5" fill="#FFCF00" x="4.875" width="8.25" height="6.038" rx=".729"></rect><rect stroke="#2C2C2C" stroke-width="1.2" fill="#FFCF00" x="3.75" y="14.34" width="10.5" height="5.66" rx=".729"></rect><path d="M14.25 17.736H3.75C0 17.736 0 14.717 0 14.717v-8.68S0 3.02 3.75 3.02h10.5C18 3.019 18 6.038 18 6.038v8.679s0 3.019-3.75 3.019z" stroke="#2C2C2C" stroke-width="1.5" fill="#FFCF00"></path><path d="M7.125 8.868a.94.94 0 00-.938-.943.94.94 0 00-.937.943c0 .52.42.943.938.943a.94.94 0 00.937-.943zm4.688-.943a.94.94 0 00-.938.943c0 .52.42.943.938.943a.94.94 0 00.937-.943.94.94 0 00-.938-.943zm.293 3.86a.452.452 0 00-.649.21c-.005.008-.461.84-2.463.84-1.953 0-2.437-.793-2.462-.84a.446.446 0 00-.638-.234.618.618 0 00-.215.761c.063.147.69 1.446 3.315 1.446s3.25-1.299 3.313-1.446a.609.609 0 00-.201-.738z" fill="#2C2C2C"></path></g></svg>
          <span>Sign In</span>
        </button>
      </div>
    </header>
    <div class="header">
      <div class="logo-menu">
        <div class="logo">
          <a th:href="@{'/home'}">
            <img class="header-logo" th:src="@{https://assets.lego.com/logos/v4.5.0/brand-lego.svg}" alt="">
          </a>
        </div>
        <div class="menu">
          <button class="shop" href="" >SHOP</button>
          <button class="dis" href="" >DISCOVER</button>
          <button class="help" href="" >HELP</button>
        </div>
        <div class="hidden-menu">
          <button class="btn-exit">
            <i class="fa-solid fa-xmark"></i>
          </button>
          <div class="hidden-menu-content">
            <div class="content-1">
              <a href="">SEE ALL THEMES</a>
              <ul class="menu-content-list count">
                <li th:each="theme : ${allThemes}" class="menu-content-item">
                  <a href="" th:text="${theme.getCategoryName()}"></a>
                </li>
              </ul>
            </div>
            <div class="content-2">
              <ul class="menu-content-list">
                <li class="menu-content-item">
                  <a href="">About Us</a>
                </li>
                <li class="menu-content-item">
                  <a href="">All LEGO Interests</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Adults Welcome</a>
                </li>
                <li class="menu-content-item">
                  <a href="">For Families</a>
                </li>
                <li class="menu-content-item">
                  <a href="">VIP Reward Program</a>
                </li>
                <li class="menu-content-item">
                  <a href="">LEGO® Mosaic Maker</a>
                </li>
                <li class="menu-content-item">
                  <a href="">LEGO® Gift Ideas</a>
                </li>
              </ul>
            </div>
            <div class="content-3">
              <ul class="menu-content-list">
                <li class="menu-content-item">
                  <a href="">Check Order Status</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Delivery & Returns</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Find a LEGO Store</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Find Building Instructions</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Common Questions</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Contact Us</a>
                </li>
                <li class="menu-content-item">
                  <a href="">Replacement Parts</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="search-bar">
        <button onclick="showSearchBar()" class="search">
          <a href="">
            <i class="fa-solid fa-magnifying-glass"></i>
          </a>
        </button>
        <form th:action="@{/search}" method="get">
          <div class="hidden-search">
            <button class="hidden-search-icon" type="submit">
              <a href="">
                <i class="fa-solid fa-magnifying-glass"></i>
              </a>
            </button>
            <input name="search" class="hidden-search-keyword" type="text" placeholder="Search...">
            <button class="hidden-search-close-btn" type="reset">
              <a href="">
                <i class="fa-solid fa-xmark"></i>
              </a>
            </button>
          </div>
        </form>
        
      </div>
      <div class="utility-section">
        <div class="wishlist">
          <a href="">
            <i class="fa-regular fa-heart"></i>
          </a>
        </div>
        <div class="cart">
          <a th:href="@{'/cart'}">
            <i class="fa-solid fa-bag-shopping"></i>
          </a>
          <p th:text="'&lpar;' + ${cartItemCount} + '&rpar;'"></p>
        </div>
      </div>
    </div>

    <div class="bread-crumb-wrapper">
      <div class="bread-crumb-item">
        <a th:href="@{'/home'}">Home</a>
      </div>
      <div class="bread-crumb-item direct">
        <i class="fa-solid fa-chevron-right"></i>
      </div>
      <div class="bread-crumb-item">
        <a th:href="@{'/product/getAllByThemeId/' + ${product.getCategory().getCategoryId()}}" th:text="${product.getCategory().getCategoryName()}"></a>
      </div>
      <div class="bread-crumb-item direct">
        <i class="fa-solid fa-chevron-right"></i>
      </div>
      <div class="bread-crumb-item" th:text="${product.getProductName()}"></div>
    </div>

    <div class="product-detail-container">
      <div class="product-detail-layout">
        <div class="product-detail-gallery">
          <div class="galley-container">
            <ul class="gallery-thumbnails">
              <li th:each="image : ${imageList}" class="gallery-thumbnails-item">
                <button class="gallery-thumbnails-item-btn">
                  <img th:src="@{'http://localhost:8080/' + ${image}}" alt="" class="gallery-thumbnails-img">
                </button>
              </li>
            </ul>
            <div class="image-viewport">
              <span class="product-counter-galley" th:text="${'1/' + #lists.size(imageList)}"></span>
              <div class="control-button-wrapper-prev">
                <button class="control-button-prev">
                  <div class="icon-wrapper-button">
                    <i class="fa-solid fa-chevron-left"></i>
                  </div>
                </button>
              </div>
              <div class="control-button-wrapper-next">
                <button class="control-button-next">
                  <div class="icon-wrapper-button">
                    <i class="fa-solid fa-chevron-right"></i>
                  </div>
                </button>
              </div>
              <div class="media-wrapper">
                <img class="media-wrapper-img" th:src="@{'http://localhost:8080/' + ${imageList[0]}}" alt="">
              </div>
            </div>
          </div>
          <div class="product-attribute-wrapper">
            <div class="product-attributes">
              <div class="product-attributes-item">
                <div class="product-attributes-item-icon">
                  <svg width="33" height="40" viewBox="0 0 33 40" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="Icon__StyledSVG-lm07h6-0 fFzRmK" data-di-rand="1692170724510" data-di-res-id="54247a3a-88803a74"><g fill-rule="nonzero" stroke="currentColor" fill="none" style="mix-blend-mode: darken;"><path stroke-width="1.727" fill="#FFF" d="M1.184 9.433l15.224-7.281 15.59 7.194V30.49L17.418 39 1.184 30.577z"></path><path d="M23.23 3.544C22.864 2.141 19.925 1 16.526 1c-3.675 0-6.798 1.228-6.89 2.895 0 0 .184 4.124.184 4.211 0 2.018 3.307 3.422 6.798 3.422 3.582 0 6.797-1.404 6.797-3.422v-3.07s.184-.965-.183-1.492z" stroke-width="1.152" fill="#FFF"></path><path d="M10.094 4.334c.092-1.58 2.94-2.895 6.43-2.895 3.491 0 6.34 1.316 6.431 2.895.092 1.667-2.756 2.983-6.43 2.983-3.675 0-6.523-1.404-6.43-2.983h0z" stroke-width="1.152"></path><path stroke-width="1.727" d="M2 10l15 7.222V39M17 17l14.63-7.122"></path></g></svg>
                </div>
                <div class="product-attributes-item-value">
                  <span th:text="${product.getPieces()}"></span>
                </div>
                <div class="product-attributes-item-tile">
                  <span>Pieces</span>
                </div>
              </div>
              <div class="product-attributes-item">
                <div class="product-attributes-item-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" aria-hidden="true" viewBox="0 0 36 36" class="Icon__StyledSVG-lm07h6-0 fFzRmK" data-di-rand="1692170724511" data-di-res-id="ec981d5f-b2c10440"><path d="M13.81 12.333l-2.833 11.334h11.216l2.834-11.334H13.81zm.945-3.777H25.97l1.53-6.124a1.89 1.89 0 013.668.914l-1.303 5.21h3.245c1.047 0 1.889.846 1.889 1.889a1.887 1.887 0 01-1.889 1.888h-4.19l-2.833 11.334h7.023c1.047 0 1.889.846 1.889 1.888a1.887 1.887 0 01-1.889 1.89h-7.967l-1.534 6.123a1.888 1.888 0 11-3.66-.914l1.299-5.21H10.033l-1.534 6.124a1.888 1.888 0 11-3.66-.914l1.299-5.21h-3.25a1.89 1.89 0 010-3.777h4.194l2.834-11.334H2.889a1.89 1.89 0 010-3.777h7.971l1.534-6.124a1.884 1.884 0 012.285-1.375 1.883 1.883 0 011.375 2.29l-1.3 5.209z" fill="currentColor" stroke="#FFF" fill-rule="evenodd"></path></svg>
                </div>
                <div class="product-attributes-item-value">
                  <span th:text="${product.getStock()}"></span>
                </div>
                <div class="product-attributes-item-tile">
                  <span>Item</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="product-detail-overview">
          <div class="product-badge-row">
            <div th:if="${not #lists.isEmpty(product.reviews)}" class="review-style">
              <div class="review-rating-star">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
              </div>
              <button class="review-button" th:text="${#lists.size(product.reviews)}"></button>
            </div>
            <div th:unless="${not #lists.isEmpty(product.reviews)}" class="review-style"></div>
          </div>
          <div class="product-overview-row">
            <h1 class="product-overview-name" th:text="${product.getProductName()}"></h1>
          </div>
          <div class="price-available-wrapper">
            <div class="product-price-wrapper">
              <span class="text" th:text="${'$' + product.getPrice()}"></span>
            </div>
            <p class="product-overview-availability">
              <span>Available now</span>
            </p>
          </div>
          <div class="product-message-wrapper">
            <div class="targeted-promo">
              <div class="targeted-promotion-wrapper">
                <img src="https://www.lego.com/cdn/cs/set/assets/blt5f18d22388081279/40594-GWP-202308-PDP-Promo-Badge.png?fit=bounds&format=png&width=120&height=60&dpr=1.5" alt="">
                <div class="targeted-promotion-inner">
                  <div class="targeted-promotion-title">
                    <span>Get the Houses of the World 3 as your VIP gift with purchases of $250 or more, membership required*</span>
                  </div>
                  <a href="" class="targeted-promotion-link">
                    Become a VIP
                  </a>
                </div>
              </div>
            </div>
          </div>
          <div class="quantity-selector">
            <div class="quantity-wrapper">
              <button class="modify-button-minus">
                <svg width="14px" height="2px" viewBox="0 0 14 2" aria-hidden="true" data-di-rand="1692177394837"><polygon class="minus"  fill="#E0E0E0" points="14 2 0 2 0 -6.03961325e-14 14 -6.03961325e-14"></polygon></svg>
              </button>
              <div class="quantity-input">
                <input name="" class="quantity-value" type="text" value="1">
              </div>
              <button class="modify-button-plus">
                <svg  xmlns="http://www.w3.org/2000/svg" width="14px" height="14px" viewBox="0 0 14 14" aria-hidden="true" data-di-rand="1692177394837"><polygon class="add" fill="black" points="14 8 0 8 0 6 14 6"></polygon><rect class="rect"  fill="black" fill-rule="nonzero" x="6" y="0" width="2" height="14"></rect></svg>
              </button>
            </div>
            <div class="max-quantity">
              <span class="text">Limit 3</span>
            </div>
          </div>
          <div class="product-button-wrapper">
            <div class="add-to-bag-button-wrapper">
              <div class="add-to-bag-container">
                <div class="add-to-bag-sticky-container">
                  <div class="add-to-bag-container-content-holder">
                    <div class="add-to-bag-container-holder">
                      <form th:action="@{'/cart/addItemToCart/' + ${product.getProductId()}}" method="post" class="extra-large-button">
                        <input type="hidden" name="quantity" id="quantity-form" value="1">
                        <button class="add-to-cart-button">
                          <div class="icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" fill="currentColor" data-di-rand="1692771850891"><path d="M28.036 8.889V5a5.106 5.106 0 0 0-1.416-3.532A4.747 4.747 0 0 0 23.214 0h-6.428a4.747 4.747 0 0 0-3.406 1.468A5.106 5.106 0 0 0 11.964 5v3.889H5V35a5.107 5.107 0 0 0 1.415 3.532A4.747 4.747 0 0 0 9.821 40H30.18a4.747 4.747 0 0 0 3.406-1.468A5.106 5.106 0 0 0 35 35V8.889h-6.964ZM15.179 5c0-.442.169-.866.47-1.179.302-.312.71-.488 1.137-.488h6.428c.427 0 .835.176 1.137.488.301.313.47.737.47 1.179v3.889H15.18V5Zm16.607 30c0 .442-.17.866-.471 1.178-.301.313-.71.489-1.136.489H9.82c-.426 0-.835-.176-1.136-.489A1.698 1.698 0 0 1 8.215 35V12.222h3.75v4.445h3.214v-4.445h9.642v4.445h3.215v-4.445h3.75V35Z"></path>
                            </svg>
                          </div>
                          Add to Bag
                        </button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="add-to-wishlist-button-wrapper">
              <div class="wish-list-floating-wrapper">
                <div class="wish-list-wrapper">
                  <button class="wish-list-button-heart">
                    <div class="icon-wrapper">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" fill="currentColor" data-di-rand="1692771850895"><path d="M20.767 37.673a1.104 1.104 0 0 1-1.567 0l-15.867-16A11.583 11.583 0 0 1 0 13.574c.027-2.336.744-4.61 2.058-6.53a11.591 11.591 0 0 1 5.316-4.247 11.432 11.432 0 0 1 6.751-.506A11.533 11.533 0 0 1 20 5.697a11.533 11.533 0 0 1 5.875-3.407c2.25-.517 4.601-.34 6.751.506a11.59 11.59 0 0 1 5.316 4.246A11.813 11.813 0 0 1 40 13.573a11.568 11.568 0 0 1-.871 4.38 11.453 11.453 0 0 1-2.462 3.71l-15.9 16.01ZM11.544 5.37a8.125 8.125 0 0 0-5.776 2.386 8.332 8.332 0 0 0-2.435 5.816 8.178 8.178 0 0 0 .602 3.105c.4.984.989 1.88 1.732 2.633L20 33.724 34.344 19.3a8.176 8.176 0 0 0 2.323-5.727 8.392 8.392 0 0 0-1.71-4.994 8.218 8.218 0 0 0-4.334-2.946 8.126 8.126 0 0 0-5.211.29 8.25 8.25 0 0 0-3.99 3.408L20 11.705l-1.422-2.374a8.235 8.235 0 0 0-3.003-2.915 8.109 8.109 0 0 0-4.03-1.045Z"></path>
                      </svg>
                    </div>
                    <a href="">Add to Wishlist</a>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div>
      <button class="product-accordion-toggle-button">
        <div class="product-accordion-title">
          <div class="product-accordion-title-content">
            <div class="product-accordion-title-row">
              <h2>Introductions & Descriptions</h2>
            </div>
            <div class="plus-minus-icon-intro">    
            </div>
          </div>
        </div>
      </button>
      <div class="animate-height-wrapper">
        <div class="accordian-content">
          <div class="max-width-container">
            <div class="product-intro-des-body">
              <div class="product-intro-des-copy">
                <div class="product-intro-des-copy-text">
                  <span class="markup">
                    <p th:text="${product.getProductDescription()}"></p>
                  </span>
                </div>
              </div>
              <div class="product-intro-des-cta">
                <img th:src="@{'http://localhost:8080/' + ${product.getImages()[0]}}" alt="">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div>
      <button class="product-accordion-toggle-button-reviews">
        <div class="product-accordion-title">
          <div class="product-accordion-title-content">
            <div class="product-accordion-title-row">
              <h2>Customer Reviews</h2>
            </div>
            <div class="plus-minus-icon-reviews">    
            </div>
          </div>
        </div>
      </button>
      <div class="animate-height-wrapper-reviews">
        <div class="accordian-content">
          <div th:if="${not #lists.isEmpty(product.reviews)}" class="max-width-container">
            <div class="product-review-wrapper">
              <div class="product-review-stats-wrapper">
                <div class="overall-rating">
                  <div class="overall-rating-bar">
                    <span class="rating-bar-label">Overall Rating</span>
                    <div class="rating-container-detail">
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <span class="rating-bar-text" th:text="${avgRating}"></span>
                    </div>
                  </div>
                  <div class="overall-rating-count">
                    <span class="product-review-count" th:text="'&lpar;' + ${#lists.size(product.reviews) + ' Reviews'} + '&rpar;'"></span>
                  </div>
                </div>
                <div class="breakdown-wrapper">
                  <div class="rating-detail">
                    <h3 class="rating-detail-title">Rating</h3>
                    <button th:each="ratingEntry : ${ratingCount}" class="rating-box">
                      <span class="star-count" th:text="${ratingEntry.key + ' stars'}"></span>
                      <div class="percentage-bar-wrapper">
                        <div class="progress-bar-wrapper">
                          <div class="track-wrapper">
                            <div class="track">
                              <!-- fill="112.00000000000001" -->
                              <div fill="" class="fill"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span class="review-count" th:text="${ratingEntry.value + ' Reviews'}"></span>
                    </button>
                  </div>
                  <div class="write-review-form">
                    <h3 class="rating-detail-title">Write a Review</h3>
                    <form th:object="${review}" 
                          th:action="@{'/product/addReview/' + ${product.getProductId()}}" 
                          enctype="multipart/form-data" method="post">
                      <div class="review-rating-set">
                        <div class="review-field-rating">
                          <p class="review-field-rating-title">Overall rating</p>
                          <div class="styled-rating-bar">
                            <input type="hidden" th:field="*{rating}" name="rating" id="ratingInput"/>
                            <div class="rating-bar-container">
                              <div class="rating-segment">
                                <div class="segment-container">
                                  <i data-rating="1" class="star fa-solid fa-star"></i>
                                </div>
                              </div>
                              <div class="rating-segment">
                                <div class="segment-container">
                                  <i data-rating="2" class="star fa-solid fa-star"></i>
                                </div>
                              </div>
                              <div class="rating-segment">
                                <div class="segment-container">
                                  <i data-rating="3" class="star fa-solid fa-star"></i>
                                </div>
                              </div>
                              <div class="rating-segment">
                                <div class="segment-container">
                                  <i data-rating="4" class="star fa-solid fa-star"></i>
                                </div>
                              </div>
                              <div class="rating-segment">
                                <div class="segment-container">
                                  <i data-rating="5" class="star fa-solid fa-star"></i>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="review-content-field">
                        <p class="review-field-rating-title">Write your review</p>
                        <label for="" class="text-area-review">
                          <textarea th:field="*{content}" name="reviewContent" id="" cols="30" rows="10"></textarea>
                          <span class="check-required"></span>
                          <div class="text-area-status"></div>
                        </label>
                      </div>
                      <div class="choose-image">
                        <p class="review-field-rating-title">Share a photo</p>
                        <button class="choose-image-button">
                          Upload an image
                        </button>
                        <input type="file" name="files" accept="image/png, image/jpeg" class="image-review-upload" multiple>
                        <div class="feedback-container"></div>
                        <ul class="image-reviews"></ul>
                      </div>
                      <div class="send-review-container">
                        <input type="submit" value="Submit Your Review"></inpu>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <p class="reviews-title">Reviews</p>
            <ul class="review-list">
              <li class="product-review-container" th:each="review : ${product.reviews}">
                <p class="product-review-text">
                  <span class="markup date" th:text="${review.getReviewDate()}"></span>
                </p>
                <div class="">
                  <div class="rating-container-detail review-detail-star">
                    <span class="visually-hidden"></span>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <span class="rating-bar-text" th:text="${#numbers.formatDecimal(review.getRating(),1,1,'POINT')}"></span>
                  </div>
                </div>
                <p class="product-review-text-name">
                  <span class="markup" th:text="${review.getUser().getFirstName() + ' ' + review.getUser().getLastName()}"></span>
                </p>
                <div class="product-review-infor-wrapper">
                  <div class="product-review-infor">
                    <div class="product-review-content">
                      <div class="product-review-infor-lineclamp">
                        <div>
                          <span class="review-content">
                            <span class="markup" th:text="${review.getContent()}"></span>
                          </span>
                        </div>
                      </div>
                    </div>
                    <button class="read-more-button">Read more</button>
                    <div class="product-review-photo" th:if="${not #lists.isEmpty(review.getImageReviews())}">
                      <button class="product-review-photo-thumb-button" th:each="imageReview : ${review.getImageReviews()}">
                        <div class="images-wrapper">
                          <img th:src="@{'http://localhost:8080/' + ${imageReview}}" alt="">
                        </div>
                      </button>
                    </div>
                    <div class="product-review-photo" th:unless="${not #lists.isEmpty(review.getImageReviews())}"></div>
                  </div>
                </div>
                <p class="product-review-text">
                  <span class="markup">Was this helpful?</span>
                </p>
                <div class="product-review-helpfulness">
                  <button class="rating-button-like">
                    <div class="thumb-button-flex-wrapper">
                      <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-di-rand="1692771861034">
                        <path d="M.993 20h4V8H0l.993 12zm18.928-8.645l-1.737 6.535A2.727 2.727 0 0 1 15.519 20H5.993V8.021l1.719-6.196a2.152 2.152 0 0 1 4.28.328V8h5.264a2.739 2.739 0 0 1 2.665 3.355z" fill="#CACACA" fill-rule="evenodd"></path>
                      </svg>
                      <div class="spacing"></div>
                      <span class="markup-counter-like">6</span>
                    </div>
                  </button>
                  <button class="rating-button-dislike">
                    <div class="thumb-button-flex-wrapper">
                      <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-di-rand="1692771861034">
                        <g fill="none" fill-rule="evenodd">
                          <path d="M.993 0h4v12H0L.993 0zM19.92 8.645L18.184 2.11A2.727 2.727 0 0 0 15.519 0H5.993v11.979l1.719 6.196a2.152 2.152 0 0 0 4.28-.328V12h5.264a2.739 2.739 0 0 0 2.665-3.355z" fill="#CACACA"></path></g>
                      </svg>
                      <div class="spacing"></div>
                      <span class="markup-counter-dislike">0</span>
                    </div>
                  </button>
                </div>
              </li>
            </ul>
            <!-- <div class="load-more-review">
              <div class="pagination-container">
                <div class="pagination-load-more">
                  <div th:if="${#lists.size(product.reviews) >= 5}" class="load-more-review-container">
                    <button class="load-more-review-button">Load more reviews</button>
                    <button class="hide-less-review-button">Hide less</button>
                  </div>
                  <div th:unless="${#lists.size(product.reviews) >= 5}" class="load-more-review-container"></div>
                </div>
              </div>
            </div> -->
          </div>
          <div th:unless="${not #lists.isEmpty(product.reviews)}" class="max-width-container">
            <p class="reviews-title">Be the first reviewer</p>
            <div class="write-review-form">
              <h3 class="rating-detail-title">Write a Review</h3>
              <form th:object="${review}" 
                    th:action="@{'/product/addReview/' + ${product.getProductId()}}" 
                    enctype="multipart/form-data" method="post">
                <div class="review-rating-set">
                  <div class="review-field-rating">
                    <p class="review-field-rating-title">Overall rating</p>
                    <div class="styled-rating-bar">
                      <input type="hidden" th:field="*{rating}" name="rating" id="ratingInput"/>
                      <div class="rating-bar-container">
                        <div class="rating-segment">
                          <div class="segment-container">
                            <i data-rating="1" class="star fa-solid fa-star"></i>
                          </div>
                        </div>
                        <div class="rating-segment">
                          <div class="segment-container">
                            <i data-rating="2" class="star fa-solid fa-star"></i>
                          </div>
                        </div>
                        <div class="rating-segment">
                          <div class="segment-container">
                            <i data-rating="3" class="star fa-solid fa-star"></i>
                          </div>
                        </div>
                        <div class="rating-segment">
                          <div class="segment-container">
                            <i data-rating="4" class="star fa-solid fa-star"></i>
                          </div>
                        </div>
                        <div class="rating-segment">
                          <div class="segment-container">
                            <i data-rating="5" class="star fa-solid fa-star"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="review-content-field">
                  <p class="review-field-rating-title">Write your review</p>
                  <label for="" class="text-area-review">
                    <textarea th:field="*{content}" name="reviewContent" id="" cols="30" rows="10"></textarea>
                    <span class="check-required"></span>
                    <div class="text-area-status"></div>
                  </label>
                </div>
                <div class="choose-image">
                  <p class="review-field-rating-title">Share a photo</p>
                  <button class="choose-image-button" id="fileInputButton" >
                    Upload an image
                  </button>
                  <input type="file" name="files" accept="image/png, image/jpeg" class="image-review-upload" multiple>
                  <div class="feedback-container"></div>
                  <ul class="image-reviews"></ul>
                </div>
                <div class="send-review-container">
                  <input type="submit" value="Submit Your Review"></inpu>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="shop-more-like-this-container">
      Shop more like this:
      <ul class="shop-more-like-this-list">
        <li>
          <button class="category">
            <span th:text="${product.getCategory.getCategoryName()}"></span>
          </button>
        </li>
      </ul>
    </div>

    <div class="recommen">
      <div class="recommen-title">
        Recommended For You
      </div>
      <div class="recommen-pro">
        <div class="prev-btn">
          <button class="prev hide">
            <i class="fa-solid fa-chevron-left"></i>
          </button>
        </div>
        <div class="product-wrapper">
          <div th:each="product : ${products}"  class="product-item">
            <div class="product-item-img">
              <div class="add-wishlist">
                <button>
                  <a href="">
                    <svg width="100%" height="100%" viewBox="0 0 40 40" alt="" class="WishlistButtonstyles__StyledWishlistIcon-sc-1iowmvt-1 biMOpX" data-di-res-id="430d9c89-b43d6568" data-di-rand="1692262034483">
                      <rect fill="#F8F8F8" width="40" height="40" rx="20"></rect>
                      <path d="M19.986 30l.014-.014.014.014 8.223-8.116-.018-.019a5.678 5.678 0 0 0 1.78-4.126C30 14.569 27.398 12 24.187 12A5.829 5.829 0 0 0 20 13.762 5.827 5.827 0 0 0 15.815 12C12.604 12 10 14.569 10 17.739a5.68 5.68 0 0 0 1.782 4.126" fill="transparent"></path>
                      <path d="M26.84 20.417L20 27.204l-6.84-6.787A3.67 3.67 0 0 1 12 17.739C12 15.677 13.71 14 15.815 14a3.82 3.82 0 0 1 2.754 1.159l1.43 1.467 1.433-1.467A3.818 3.818 0 0 1 24.186 14C26.289 14 28 15.677 28 17.739a3.673 3.673 0 0 1-1.16 2.678M19.986 30l.014-.014.014.014 8.223-8.116-.018-.019a5.678 5.678 0 0 0 1.78-4.126C30 14.569 27.398 12 24.187 12A5.829 5.829 0 0 0 20 13.762 5.827 5.827 0 0 0 15.815 12C12.604 12 10 14.569 10 17.739a5.68 5.68 0 0 0 1.782 4.126" fill="#006DB7"></path>
                    </svg>
                  </a>
                </button>
                <div class="wish-list-title">Add to wish list</div>
              </div>
                <div class="img">
                  <a th:href="@{'/product/getProduct/' + ${product.getProductId()}}">
                    <img th:src="@{'http://localhost:8080/' + ${product.getImages()[0]}}" alt="">
                  </a>
                </div>
                <div class="new">
                  <span>New</span>
                </div>
            </div>
            <div class="product-item-name">
              <a th:href="@{'/product/getProduct/' + ${product.getProductId()}}">
                <span th:text="${product.getProductName()}"></span>
              </a>
            </div>
            <div th:if="${not #lists.isEmpty(product.reviews)}" class="product-item-rating">
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            </div>
            <div th:unless="${not #lists.isEmpty(product.reviews)}" class="product-item-rating"></div>
            <div class="product-item-price" th:text="${'$' + product.getPrice()}"></div>
            <form class="product-item-btn" th:action="@{'/cart/addItemToCart/' + ${product.getProductId()}}" method="post">
              <input type="hidden" name="quantity" value="1">
              <button type="submit" class="add-bag">Add to Bag</button>
            </form>
          </div>
        </div>
        <div class="next-btn">
          <button class="next">
            <i class="fa-solid fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>

    <div th:onclick="switchOffPanel()" class="account-panel">
      <div th:onclick="preventEventPropagation(event)" class="account-modal">
        <button class="exit-account-modal">
          <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="account-modal-container">
          <div class="title-wrapper">
            <img th:src="@{https://assets.lego.com/logos/v4.5.0/brand-lego.svg}" alt="">
            <h2>Sign In to your LEGO® Account</h2>
          </div>
          <a th:href="@{'/login'}" class="login-btn">Sign In</a>
          <div class="space"></div>
          <div class="register-btn">
            <span>Don't have an account?</span>
            <a th:href="@{'/login'}" >Register</a>
          </div>
          <div class="oder-status">
            <img src="https://www.lego.com/_next/static/images/orderStatus-04af015821d59ffa6ce06de624f1bff4.png" alt="">
            <a href="">Check Order Status</a>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-1">
        <div class="footer-section">
          <div class="footer-section-wrapper">
            <div class="wrapper-logo-region">
              <div class="logo-region">
                <div class="logo-img2">
                  <img src="https://assets.lego.com/logos/v4.5.0/brand-lego.svg" alt="">
                </div>
                <div class="region">
                  <button>
                    <i class="fa-solid fa-location-dot"></i>
                    Viet Nam
                  </button>
                </div>
              </div>
              <div class="gift-cards">
                <a href="">
                  <span>Gift Cards</span>
                </a>
                <a href="">
                  <span>LEGO Catalogs</span>
                </a>
                <a href="">
                  <span>Find a LEGO Store</span>
                </a>
              </div>
            </div>
            <div class="wrapper-supports">
              <div class="support">
                <h2 class="support-title">ABOUT US</h2>
                <ul class="support-list">
                  <li class="support-list-item"><a class="" href="">About the LEGO Group</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO® News</a></li>
                  <li class="support-list-item"><a class="" href="">Sustainability</a></li>
                  <li class="support-list-item"><a class="" href="">Supply Chain Transparency Statement</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO Product Certification</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO Jobs</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO Compliance Line</a></li>
                </ul>
              </div>
              <div class="support">
                <h2 class="support-title">SUPPORT</h2>
                <ul class="support-list">
                  <li class="support-list-item"><a class="" href="">Contact Us</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO® NewsLEGO® News</a></li>
                  <li class="support-list-item"><a class="" href="">Replacement Parts</a></li>
                  <li class="support-list-item"><a class="" href="">Shipping and Returns</a></li>
                  <li class="support-list-item"><a class="" href="">Payment Methods</a></li>
                  <li class="support-list-item"><a class="" href="">Terms & Conditions</a></li>
                  <li class="support-list-item"><a class="" href="">Product Recalls</a></li>
                </ul>
              </div>
              <div class="support">
                <h2 class="support-title">ATTRACTIONS</h2>
                <ul class="support-list">
                  <li class="support-list-item"><a class="" href="">LEGO® House</a></li>
                  <li class="support-list-item"><a class="" href="">LEGOLAND® Parks</a></li>
                  <li class="support-list-item"><a class="" href="">LEGOLAND Discovery Centers</a></li>
                </ul>
              </div>
              <div class="support">
                <h2 class="support-title">MORE FROM US</h2>
                <ul class="support-list">
                  <li class="support-list-item"><a class="" href="">LEGO® LIFE</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO Education</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO Ideas</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO Foundation</a></li>
                  <li class="support-list-item"><a class="" href="">Affiliate Program</a></li>
                  <li class="support-list-item"><a class="" href="">Student Offers</a></li>
                  <li class="support-list-item"><a class="" href="">LEGO® Braille Bricks</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-2">
        <div class="email-social">
          <div class="email-sub">
            <div class="email-sub-content">
              <span>SUBSCRIBE TO LEGO® SHOP EMAILS</span>
              <div class="email-input-container">
                <div class="input-button">
                  <div class="email">
                    <input type="text" name="" id="emailInput" placeholder="Your email address">
                    <div class="email-sub-error">
                      <span class="email-sub-error-status"></span>
                    </div>
                  </div>
                  <a href="" class="btn-go">
                    <i class="fa-solid fa-chevron-right"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
          <div class="social">
            <div class="social-icon">
              <span>FOLLOW US</span>
              <div class="social-button">
                <div class="social-button-icon"><a href=""><i class="fa-brands fa-facebook-f"></i></a></div>
                <div class="social-button-icon"><a href=""><i class="fa-brands fa-twitter"></i></a></div>
                <div class="social-button-icon"><a href=""><i class="fa-brands fa-instagram"></i></a></div>
                <div class="social-button-icon"><a href=""><i class="fa-brands fa-youtube"></i></a></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-3">
        <div class="privacies">
          <ul class="privacy-list">
            <li class="privacy-list-item"><a href="">Privacy Policy</a></li>
            <li class="privacy-list-item"><a href="">Cookies</a></li>
            <li class="privacy-list-item"><a href="">Legal Notice</a></li>
            <li class="privacy-list-item"><a href="">Terms of Use</a></li>
            <li class="privacy-list-item"><a href="">Digital Wellbeing</a></li>
            <li class="privacy-list-item"><a href="">Accessibility</a></li>
            <li class="privacy-list-item"><a href="">Cookie Settings</a></li>
            <li class="privacy-list-item"><a href="">Privacy Settings for residents of CA, VA, CT and CO</a></li>
          </ul>
          <p>LEGO System A/S, DK-7190 Billund, Denmark. Must be 18 years or older to purchase online. LEGO, the LEGO logo, the Minifigure, DUPLO, LEGENDS OF CHIMA, NINJAGO, BIONICLE, MINDSTORMS and MIXELS are trademarks and copyrights of the LEGO Group. ©2022 The LEGO Group. All rights reserved. Use of this site signifies your agreement to the terms of use.</p>
        </div>
      </div>
    </footer>
    <script th:src="@{/js/detailProduct.js}" defer></script>

</body>
</html>